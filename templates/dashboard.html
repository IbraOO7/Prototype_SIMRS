{% extends 'index.html' %}

   {% block body %} 
        <!-- Icon Cards-->
        <div class="row">
          <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card text-white bg-primary o-hidden h-100">
              <div class="card-body">
                <div class="card-body-icon">
                  <i class="fas fa-user-md"></i>
                </div>
                <div class="mr-5"><b>{{ row }} Jumlah Dokter!</b></div>
              </div>
                <span class="float-right">
                  <i class="fas fa-angle-right"></i>
                </span>
              </a>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card text-white bg-warning o-hidden h-100">
              <div class="card-body">
                <div class="card-body-icon">
                  <i class="fas fa-users"></i>
                </div>
                <div class="mr-5"><b>{{ row2 }} Pasien!</b></div>
              </div>
                <span class="float-right">
                  <i class="fas fa-angle-right"></i>
                </span>
              </a>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card text-white bg-success o-hidden h-100">
              <div class="card-body">
                <div class="card-body-icon">
                  <i class="fas fa-fw fa-dollar-sign"></i>
                </div>
                <div class="mr-5"><b>Pendapatan: {{ "Rp.{:,}".format(total1) }}!</b></div>
              </div>
                <span class="float-right">
                  <i class="fas fa-angle-right"></i>
                </span>
              </a>
            </div>
          </div>
          <div class="col-xl-3 col-sm-6 mb-3">
            <div class="card text-white bg-danger o-hidden h-100">
              <div class="card-body">
                <div class="card-body-icon">
                  <i class="fas fa-fw fa-life-ring"></i>
                </div>
                <div class="mr-5"><b>13 Kamar Tersedia!</b></div>
              </div>
                <span class="float-right">
                  <i class="fas fa-angle-right"></i>
                </span>
              </a>
            </div>
          </div>
        </div>

        <!-- Area Chart Example-->
		
		<div class="row">
            <div class="col-lg">
              <div class="card mb-8">
                <div class="card-header">
                  <i class="fa fa-bar-chart"></i> Index Pendapatan</div>
                <div class="card-body">
                  <div id="container" style="min-width: 130px; height: 175px; margin: 0 auto"></div>
                    <div class="col-sm-8 my-auto">
                      <canvas id="myBarChart" width="100" height="50"></canvas>
                    </div>
                <div class="alert alert-success col-md-4 col-md-offset-4" style="height:41px;" role="alert">
                    <p><b>Sisa Saldo: {{ "Rp.{:,}".format(tot) }}</b></p> 
                  </div>
				  <div class="alert alert-primary col-md-4 col-md-offset-4" style="height:41px;" role="alert">
                    <p><b>Aset: {{ "Rp. {:,}".format(jml) }}</b></p> 
                  </div>
                <div class="card-footer small text-muted"></div>
              </div>
            </div>
             </div>
          </div>
        </div>
        
      <!-- /.container-fluid -->

      <!-- Sticky Footer -->
      <footer class="sticky-footer">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>RS Baim Mulia Â© Aplikasi Manajemen System</span>
          </div>
        </div>
      </footer>

  {% block tail %}
   <script src="static/highcharts/code/highcharts.js"></script>
   <script src="static/highcharts/code/data.js"></script>
   <script src="static/highcharts/code/drilldown.js"></script>
    <script>
		// Create the chart
		Highcharts.chart('container', {
			chart: {
				type: 'column'
			},
			title: {
				text: 'Visualisasi Data Pendapatan & Pengeluaran Rumah Sakit'
			},
			subtitle: {
				text: ''
			},
			xAxis: {
				type: 'category'
			},
			yAxis: {
				title: {
					text: 'Pendapatan'
				}

			},
			legend: {
				enabled: false
			},
			plotOptions: {
				series: {
					borderWidth: 0,
					dataLabels: {
						enabled: true,
						format: '{point.y:1f}'
					}
				}
			},

			tooltip: {
				headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
				pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:}</b> of total<br/>'
			},

			series: [
				{
					name: "Browsers",
					colorByPoint: true,
					data: [
						{
							name: "Pasien",
							y: {{ ung }},
							drilldown: "Chrome"
						},
						{
							name: "Apotik",
							y: {{ ap }},
							drilldown: "Firefox"
						},
						{
							name: "BPJS",
							y: 0,
							drilldown: "Internet Explorer"
						},
						{
							name: "Pengeluaran",
							y: {{ totPeng }},
							drilldown: "Safari"
						},
						{
							name: "Lainnya",
							y: 0,
							drilldown: null
						}
					]
				}
			],
			drilldown: {
				series: [
					{
						name: "Chrome",
						id: "Chrome",
						data: [
							[
								"v65.0",
								0.1
							],
							[
								"v64.0",
								1.3
							],
							[
								"v63.0",
								53.02
							],
							[
								"v62.0",
								1.4
							],
							[
								"v61.0",
								0.88
							],
							[
								"v60.0",
								0.56
							],
							[
								"v59.0",
								0.45
							],
							[
								"v58.0",
								0.49
							],
							[
								"v57.0",
								0.32
							],
							[
								"v56.0",
								0.29
							],
							[
								"v55.0",
								0.79
							],
							[
								"v54.0",
								0.18
							],
							[
								"v51.0",
								0.13
							],
							[
								"v49.0",
								2.16
							],
							[
								"v48.0",
								0.13
							],
							[
								"v47.0",
								0.11
							],
							[
								"v43.0",
								0.17
							],
							[
								"v29.0",
								0.26
							]
						]
					},
					{
						name: "Firefox",
						id: "Firefox",
						data: [
							[
								"v58.0",
								1.02
							],
							[
								"v57.0",
								7.36
							],
							[
								"v56.0",
								0.35
							],
							[
								"v55.0",
								0.11
							],
							[
								"v54.0",
								0.1
							],
							[
								"v52.0",
								0.95
							],
							[
								"v51.0",
								0.15
							],
							[
								"v50.0",
								0.1
							],
							[
								"v48.0",
								0.31
							],
							[
								"v47.0",
								0.12
							]
						]
					},
					{
						name: "Internet Explorer",
						id: "Internet Explorer",
						data: [
							[
								"v11.0",
								6.2
							],
							[
								"v10.0",
								0.29
							],
							[
								"v9.0",
								0.27
							],
							[
								"v8.0",
								0.47
							]
						]
					},
					{
						name: "Safari",
						id: "Safari",
						data: [
							[
								"v11.0",
								3.39
							],
							[
								"v10.1",
								0.96
							],
							[
								"v10.0",
								0.36
							],
							[
								"v9.1",
								0.54
							],
							[
								"v9.0",
								0.13
							],
							[
								"v5.1",
								0.2
							]
						]
					}
				]
			}
		});
	</script>
  {% endblock %}
  
  {% endblock %}
